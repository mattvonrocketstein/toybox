#
# py_pkg/tox.ini
#
[tox]
envlist = py27

# declare global pytest options.  yes, it DOES always respect
# tox.ini even when pytest is invoked directly and tox is not
# invoked
[pytest]
addopts= --capture=no

[testenv:guest]
deps=
     -r{toxinidir}/tests/requirements.txt
commands=
    python tests/
setenv=
    TOYBOX_GUEST=true

[testenv:host]
deps=
     -r{toxinidir}/tests/requirements.txt
commands=
    python tests/
setenv=
    TOYBOX_HOST=true

[testenv:demo]
deps=
     -r{toxinidir}/demo/requirements.txt
commands=
    python demo/demo_elk.py -n 50
setenv=
    TOYBOX_GUEST=true

[testenv:docs]
basepython=python
changedir=docs/source
deps =
    sphinx
commands =
    sphinx-build -a -b html -d {envtmpdir}/doctrees . {envdir}/build/html
